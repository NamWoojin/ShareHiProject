<template>
  <div>
    <nav class="nav">
      <input type="text" @keyup="searchInputChanged" @keydown="searchInputChanged" :class="[searchFlag ? 'show search-input' : 'hidden']">
      <div class="nav-item" >
        <button class="nav-item-btn">ì•Œë¦¼</button>
        <div v-if="true" class="nav-item-content">
          <a href="#">Alert item1</a>
          <a href="#">Alert item2</a>
          <a href="#">Alert item3</a>
          <a href="#">Alert item4</a>
        </div>
        <div v-else>
          ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤
        </div>
      </div>
      <div class="nav-item" >
        <button class="nav-item-btn">ë””ë°”ì´ìŠ¤</button>
        <div v-if="true" class="nav-item-content">
          <a href="#">Device1</a>
          <a href="#">Device2</a>
          <a href="#">Device3</a>
          <a href="#">Device4</a>
        </div>
        <div v-else>
          ì•Œë¦¼ì´ ì—†ìŠµë‹ˆë‹¤
        </div>
      </div>
      <div class="nav-item" >
        <button class="nav-item-btn" @click="onClickSearch">ğŸ”</button>
      </div>
      <div class="nav-item" >
        <button class="nav-item-btn">ë” ë³´ê¸°</button>
        <div class="nav-item-content nav-item-last">
          <a href="#" @click="onClickOpen">ëª¨ë“  í´ë” ì—´ê¸°</a>
          <a href="#" @click="onClickClose">ëª¨ë“  í´ë” ë‹«ê¸°</a>
          <a href="#">ê³„ì •ì„¤ì •</a>
          <a href="#" @click="onClickLogout">ë¡œê·¸ì•„ì›ƒ</a>
        </div>
      </div>
    </nav>
    <SearchResult v-if="searchFlag" />
    <Directory ref="directory" v-else />
  </div>
</template>

<script>
import Directory from "@/components/Directory.vue";
import SearchResult from "@/components/SearchResult.vue";

export default {
  name: "Main",
  components: { Directory,SearchResult },
  data() {
    return {
      searchFlag : false,
      searchInputValue : '',
    }
  },
  methods : {
    onClickSearch() {
      this.searchFlag = !this.searchFlag
    },
    onClickLogout() {
      alert("logout")
      this.$emit("onClickLogout",false)
    },
    onClickOpen() {
      this.$refs.directory.onClickOpenAllDir()
    },
    onClickClose() {
      this.$refs.directory.onClickCloseAllDir()
    },
    searchInputChanged(e) {
      e.stopPropagation();
      console.log(e.target.value)
    },
  }
};
</script>

